## 时序电路（存储）

### 时序电路

所谓时序电路就是含有时钟信号的电路，时钟信号上下翻转

### D 触发器

因为 D 触发器只有一个输入和一个输出，可以用硬件测试。因为 D 触发器是时钟触发的，所以约束文件一定要带上时钟。

```
IO_LOC "out" 10; // red
IO_LOC "in" 15;
IO_LOC "clk" 45;
```

D 触发器具有存储功能，其实是通过反馈实现的，所以我们用它来实现存储电路。

### Bit

bit 是一位存储，由 D 触发器实现。

因为时序电路用到了 clk ，所以仿真时 clk 不会自动变化，需要添加 always #1 clk = ~clk; 来使 clk 每隔一个时钟周期翻转一次。

### 寄存器

因为我们要构建的计算机是 16 位的，所以寄存器是 16 位的，寄存器由 16 个 Bit 组成。

### PC

PC 又称程序计数器，主要由寄存器实现。PC 有三个条件，分别为 reset load inc 。由三个二选一数据选择器实现，先后次序决定优先级，加 1 由加法器实现。

有三个功能：

- 当 inc = 1 时，加 1
- 当 load = 1 时，把 in 的值赋给 PC
- 当 reset = 1 时，复位



### 主存(RAM)

